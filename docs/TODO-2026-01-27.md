# TODO List - January 27, 2026

## Recently Completed
- ✅ AI Image Search & Replace (Pexels API integration)
- ✅ Standardized all sections to 3 items (Features, Gallery, FAQ, Team, Stats, How It Works)
- ✅ EU/UK adjustments (removed healthcare insurance, added opening hours & FAQ)
- ✅ Expanded navigation to show ALL selected sections
- ✅ Organized text editor by sections with labeled cards
- ✅ Fixed hero text overlay (professional dark gradient + white text with shadows)
- ✅ Added logo upload capability
- ✅ Fixed 9 missing sections (location, reservations, social_proof, cta, featured_listings, neighborhoods, case_studies, opening_hours, booking)
- ✅ SEO metadata implementation (meta tags, Open Graph, Twitter Cards, JSON-LD, favicon)

## Priority Tasks for Tomorrow

### 1. Mobile Preview Toggle (HIGH PRIORITY)
**Goal**: Add desktop/mobile view switcher in the editor so users can preview how their site looks on mobile devices

**Implementation Steps**:
- Add toggle buttons in `components/SiteEditor.tsx` (Desktop/Mobile view)
- Add state to track current preview mode
- Apply responsive CSS to iframe preview:
  - Mobile: max-width 375px (iPhone size)
  - Desktop: Full width
- Center mobile preview with proper frame styling
- Test with all 8 business types to ensure mobile responsiveness

**Files to modify**:
- `components/SiteEditor.tsx`
- Possibly add new CSS classes for mobile preview frame

**Estimated complexity**: Medium (2-3 hours)

---

### 2. Mobile Responsiveness Audit (HIGH PRIORITY)
**Goal**: Ensure all generated websites work perfectly on mobile devices (320px to 768px)

**Implementation Steps**:
- Test each section type on mobile:
  - Hero sections with overlays
  - Features/Services grids (3-column → 1-column)
  - Gallery grids (3-column → 1-column)
  - Menu items (2-column → 1-column)
  - Team cards (3-column → 1-column)
  - Pricing cards (3-column → 1-column stack)
  - Forms (contact forms, booking forms)
  - Navigation (mobile hamburger menu)
  - Footer
- Fix any layout breaks or text overflow issues
- Ensure images scale properly
- Test touch interactions (buttons, forms)
- Verify font sizes are readable (minimum 16px for body text)

**Files to modify**:
- `app/api/generate-website/route.ts` (CSS section)

**Test on**:
- Mobile (375px - iPhone)
- Tablet (768px - iPad)
- Small mobile (320px)

**Estimated complexity**: High (4-5 hours)

---

### 3. Analytics Integration (MEDIUM PRIORITY)
**Goal**: Track website views and user interactions for published sites

**Implementation Options**:
- **Option A**: Simple custom analytics
  - Create `analytics` table in Supabase (website_id, event_type, timestamp, user_agent, referrer)
  - Add lightweight JavaScript to track pageviews and button clicks
  - Create dashboard page to show stats (views, unique visitors, popular pages)

- **Option B**: Google Analytics 4 integration
  - Allow users to add their GA4 tracking ID
  - Inject GA4 script into generated HTML
  - Provide setup instructions

**Recommendation**: Start with Option A (custom analytics) for better control and privacy

**Implementation Steps**:
1. Create Supabase analytics table
2. Create `/api/track-event` endpoint
3. Add tracking script to generated HTML (lightweight, non-intrusive)
4. Create `/dashboard/analytics/[websiteId]` page to display stats
5. Show basic metrics: total views, unique visitors, views over time, referrer sources

**Files to create/modify**:
- Supabase migration for analytics table
- `app/api/track-event/route.ts` (new)
- `app/dashboard/analytics/[id]/page.tsx` (new)
- `app/api/generate-website/route.ts` (add tracking script)

**Estimated complexity**: High (5-6 hours)

---

### 4. Custom Domains (MEDIUM PRIORITY)
**Goal**: Allow users to connect their own domain names to published websites

**Implementation Steps**:
1. Add custom domain field in publish flow
2. Create domain verification system:
   - Show CNAME record instructions (point to wevibecode.ai)
   - Add `/api/verify-domain` endpoint to check DNS records
   - Store domain in database with verification status
3. Add domain management UI in dashboard:
   - Show current domain
   - Show verification status
   - Show CNAME instructions
   - Add/edit/remove domain
4. Handle routing for custom domains:
   - Middleware to check domain and route to correct website
   - SSL certificate setup (Vercel automatic SSL)
5. Add domain to SEO metadata (og:url, canonical, JSON-LD)

**Files to create/modify**:
- `components/PublishModal.tsx` (add domain input)
- `app/api/verify-domain/route.ts` (DNS verification)
- `app/dashboard/domains/[id]/page.tsx` (domain management UI)
- `middleware.ts` (custom domain routing)
- Update database schema to add `custom_domain` and `domain_verified` fields

**Estimated complexity**: Very High (6-8 hours)

**Note**: Custom domains require DNS configuration and may need Vercel Pro plan for production

---

## Lower Priority / Future Enhancements

### 5. Export Website (Code Download)
- Allow users to download their website as HTML/CSS/JS files
- Package as ZIP file with all assets
- Include setup instructions

### 6. Custom CSS Editor
- Allow advanced users to add custom CSS
- Provide CSS editor with syntax highlighting
- Live preview of changes

### 7. Contact Form Integration
- Make contact forms functional (currently static HTML)
- Options: Email (SendGrid), Database storage, Webhook
- Add spam protection (Honeypot or reCAPTCHA)

### 8. A/B Testing
- Allow users to create multiple versions
- Track which version performs better
- Automatic traffic splitting

### 9. Multi-language Support
- Generate websites in multiple languages
- Language switcher in generated sites
- Store translations in database

### 10. Template Library Expansion
- Add more pre-made templates (currently disabled)
- Allow users to save their designs as templates
- Template marketplace

---

## Known Issues to Address

1. **Middleware deprecation warning**: Update from `middleware` to `proxy` convention
2. **Logo replacement**: Test that logo upload/replacement works correctly
3. **Image replacement**: Verify AI image search works with all section types
4. **Section grouping**: Test that all editable elements are properly grouped by section

---

## Testing Checklist Before Production

- [ ] Generate website for all 8 business types
- [ ] Test image upload and replacement
- [ ] Test AI image search
- [ ] Test text editing by section
- [ ] Test color palette editing
- [ ] Test logo upload
- [ ] Test publish flow (subdomain)
- [ ] Verify SEO metadata appears in page source
- [ ] Test Open Graph preview (Facebook Sharing Debugger)
- [ ] Test Twitter Card preview (Twitter Card Validator)
- [ ] Mobile responsiveness on real devices
- [ ] Test all navigation links
- [ ] Test mobile hamburger menu
- [ ] Verify all 3-item sections render correctly
- [ ] Test EU-specific sections (opening hours, no insurance)

---

## Notes

- All features should work on mobile devices (responsive design)
- Keep generated websites lightweight (<500KB initial load)
- Maintain accessibility standards (WCAG 2.1 AA)
- SEO best practices already implemented
- Continue to focus on EU/UK audience preferences
- Always maintain consistency: 3 items per section
